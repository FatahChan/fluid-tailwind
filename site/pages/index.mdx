---
layout: ./_Layout.astro
title: Fluid for Tailwind CSS
description: A Tailwind plugin to easily generate fluid clamp() values with every utility.
headline: Smoother responsive styles in less code.
lead: 'A <a href="https://www.smashingmagazine.com/2022/01/modern-fluid-typography-css-clamp/">fluid <code>clamp()</code></a> plugin for Tailwind that works with every utility.'
---
import Split from './_Split.svelte'
import * as Steps from '/components/Steps'
import * as Tip from '/components/Tip'
import Resizer from '/components/Resizer.svelte'

## Features

* Supports **every utility** out of the box (including plugins)
* Full **Intellisense** support
* Ensures fluid type meets [accessibility requirements](#fluid-type-accessibility-errors)
* **Flexible** enough to handle advanced use cases


## Installation

<Steps.Root>
  <Steps.Item>
    <>
      ### Install the package

      Install `fluid-tailwind` via npm.
    </>
    <Fragment slot="code">
    ```sh
    npm install -D fluid-tailwind
    ```
    </Fragment>
  </Steps.Item>
  <Steps.Item>
    <>
      ### Add the plugin

      Add the plugin to your Tailwind configuration.
    </>
    <Fragment slot="code">
      ```js title="tailwind.config.js" ins={1,6}
      import fluid from 'fluid-tailwind'

      export default {
        // ...
        plugins: [
          fluid
        ]
      }
      ```
    </Fragment>
  </Steps.Item>
  <Steps.Item>
    <>
      ### Add the [extractor](https://tailwindcss.com/docs/content-configuration#customizing-extraction-logic)

      The custom extractor lets you use the new `~` prefix in your Tailwind classes.
    </>
    <Fragment slot="code">
      ```js title="tailwind.config.js" ins=", { extract }" ins={6} ins=/\: (\{)/ ins="files: " ins=/\](,)/ ins=/(\}),/
      import fluid, { extract } from 'fluid-tailwind'

      export default {
        content: {
          files: [/* ... */],
          extract
        },
        // ...
      }
      ```
    </Fragment>
  </Steps.Item>
  <Steps.Item>
    <>
      ### (Optional) Convert Tailwind's default screens and font sizes to `rem`

      You can skip this if you don't use Tailwind's default screens or font sizes.
      <Tip.Info>This [will be unnecessary](https://github.com/tailwindlabs/tailwindcss/pull/13469) in Tailwind v4</Tip.Info>
    </>
    <Fragment slot="code">
      ```js title="tailwind.config.js" ins={6-7} ins=", screens, fontSize"
      import fluid, { extract, screens, fontSize } from 'fluid-tailwind'

      export default {
        // ...
        theme: {
          screens,
          fontSize,
          extend: {
            fontSize: {
              // ...
            }
          }
        }
        // ...
      }
      ```
    </Fragment>
  </Steps.Item>
</Steps.Root>

## Basic usage

<Resizer client:load height="h-32">
  <button class="bg-sky-500 hover:bg-sky-400 ~@lg/2xl:~px-4/8 ~@lg/2xl:~py-2/3.5 ~@lg/2xl:~text-sm/xl rounded-full font-semibold text-white">Fluid button</button>
</Resizer>
```html mark=/(\~.*?)\s+/
<button class="bg-sky-500 ~px-4/8 ~py-2/4 ~text-sm/xl ...">Fluid button</button>
```

Here's a quick overview:
* The `~` prefix makes a utility fluid
* Fluid utilities have a start and end value, separated by a `/`
* Fluid utilities interpolate between their start and end value when the viewport is between the start and end point, respectively
* The start and end points default to the smallest and largest screen, but [they can be customized](#custom-default-screens) or [overridden per-utility](#customize-screens-per-utility)

## Limitations

### All lengths must have the same unit

Due to CSS restrictions, fluid expressions can only be computed if **all involved lengths have the same unit**.
This includes:
* Start value / end value
* Start point / end point

<Tip.Bad>Trying to interpolate between two different units</Tip.Bad>
```html
<h1 class="~text-[1rem]/[24px]">
```

<Tip.Bad>Trying to set `font-size` in `rem` when the screens are in `px`</Tip.Bad>
<Split rows="grid-rows-[auto]">
  ```html
  <h1 class="~text-lg/xl">
  ```
  ```js title="tailwind.config.js"
  // ...
  export default {
    theme: {
      screens: {
        'sm': '320px',
        '2xl': '1280px' 
      },
      fontSize: {
        'lg': '1.5rem',
        'xl': '2rem'
      }
    }
    // ...
  }
  ```
</Split>

<Tip.Bad>Using expressions like `calc()`</Tip.Bad>
```html
<h1 class="~text-base/[calc(1.5rem-2px)]">
```

<Tip.Bad>Trying to interpolate between non-lengths like colors</Tip.Bad>
```html
<h1 class="~text-white/red-500">
```

### Negative values

You can't use the dash prefix `-` to negate fluid utilities like you
can with i.e. `-mt-3`, because Tailwind would only negate the start value.

<Tip.Bad>Trying to use `-` to negate a fluid utility</Tip.Bad>
```html del=/(\-)\~/
<div class="-~mt-3/5">
```

## Configuration

### Custom default screens

The default start and end screens can be set with a tuple `[start, end]`, where each
value is a simple screen width.
Either value can be omitted, in which case the plugin will use your smallest and largest
screen, respectively.

```js title="tailwind.config.js" ins={5-8}
// ...
export default {
  // ...
  theme: {
    /** @type {import('fluid-tailwind').FluidThemeConfig} */
    fluid: ({ theme }) => ({
      defaultScreens: ['20rem', theme('screens.lg')]
    })
  },
  // ...
}
```

## Advanced

### Customize screens per-utility

You can change the start/end screens for an individual fluid utility with
the included `~` variant. For example:

<Resizer client:load height="h-32">
  <span class="text-slate-900 dark:text-slate-100 font-semibold ~@xl/2xl:~text-base/4xl text-center block">Quick increase</span>
</Resizer>
```html mark="~md/lg:"
<h1 class="~md/lg:~text-base/4xl">Quick increase</h1>
```

You can omit either start or end screen to use your [global defaults](#custom-default-screens):

<Tip.Good>Set start screen to `md`, end screen as default</Tip.Good>
```html mark="~md:"
<div class="~md:~text-base/4xl">
```

<Tip.Good>Set end screen to `lg`, start screen as default</Tip.Good>
```html mark="~/lg:"
<div class="~/lg:~text-base/4xl">
```

#### Arbitrary start screens

If you want to set an arbitrary start screen with the `~` variant, you have to use
`~min-[]` (just as you'd have to use `min-[]` to set an [arbitrary screen breakpoint](https://tailwindcss.com/docs/responsive-design#arbitrary-values)):

<Tip.Bad>Trying to use `~[]:` to set an arbitrary start screen</Tip.Bad>
```html del="~[20rem]"
<div class="~[20rem]/lg:~text-base/4xl">
```

<Tip.Good>Using `~min-[]` to set an arbitrary start screen</Tip.Good>
```html mark="~min-[20rem]"
<div class="~min-[20rem]/lg:~text-base/4xl">
```

### Container queries

If you have the [official container query](https://github.com/tailwindlabs/tailwindcss-container-queries) plugin
installed, you can make the start/end points relative to the nearest `@container` rather than the viewport by using the `~@` variant:

```html mark="~@md/lg:"
<h1 class="~@md/lg:~text-base/4xl">Relative to container</h1>
```
<Tip.Info>This may look confusing if you use [named containers](https://github.com/tailwindlabs/tailwindcss-container-queries#named-containers). Sorry about that; there's only so many ways to get values into Tailwind. In general, when you see the fluid `~` prefix, you know the `/` denotes a start/end pair.</Tip.Info>

Just like the `~` variant, both start and end containers are optional and will use your [global defaults](#custom-default-containers) if unset.

<Tip.Good>Set end container to `lg`, start container as default</Tip.Good>
```html mark="~@/lg:"
<div class="~@/lg:~text-base/4xl">
```

<Tip.Bad>Trying to reference named containers</Tip.Bad>
```html del=/3xl(\/main)/
<div class="@container/main">
  <h1 class="~@/3xl/main:~text-lg/base">
```
<Tip.Info>Browser support for named containers in fluid CSS expressions [should arrive soon](https://github.com/w3c/csswg-drafts/issues/7858)</Tip.Info>

#### Custom default containers

The default containers can be set in the same way as screens.
Either value can be omitted, in which case the plugin will use your smallest and
largest container, respectively.

```js title="tailwind.config.js" ins={7}
// ...
export default {
  // ...
  theme: {
    /** @type {import('fluid-tailwind').FluidThemeConfig} */
    fluid: ({ theme }) => ({
      defaultContainers: [, theme('containers.2xl')]
    })
  },
  // ...
}
```

### Fluid type accessibility errors

By default, the plugin will not generate fluid type that [would fail WCAG Success Criterion 1.4.4](https://www.smashingmagazine.com/2023/11/addressing-accessibility-concerns-fluid-type/).
You can configure this with the `checkSC144` option:

```js title="tailwind.config.js" ins={6}
// ...
export default {
  // ...
  plugins: [
    fluid({
      checkSC144: false // default: true
    })
  ]
}
```

### Combining with breakpoints

To really get crazy, you can combine fluid values with
container or media queries, as such:

<Resizer client:load height="h-32" tooNarrowClass="xl:hidden">
  <span class="text-slate-900 dark:text-slate-100 font-semibold italic ~@lg/2xl:~text-base/4xl @2xl:~@2xl/4xl:~text-4xl/base text-center block">Whoa!</span>
</Resizer>
```html mark="~/md:" mark="lg:~lg:"
<h1 class="~/md:~text-base/4xl lg:~lg:~text-4xl/base">Whoa!</h1>
```

Here's how this works:
1. By default, we interpolate our font-size between `base` and `4xl` until the viewport
is our `md` screen
1. When we get to our `lg` screen, we interpolate between the opposite `4xl` and `base`, starting
when the viewport is our `lg` screen

### Custom Tailwind prefix and/or separator

If you're using a custom Tailwind [`prefix`](https://tailwindcss.com/docs/configuration#prefix) or
[`separator`](https://tailwindcss.com/docs/configuration#separator),
you'll need to pass them in to the extractor as well:

```js title="tailwind.config.js" ins={9-10}
import fluid, { extract } from 'fluid-tailwind'

export default {
  prefix: 'tw-',
  separator: '_',
  content: {
    files: [/* ... */],
    extract: extract({
      prefix: 'tw-',
      separator: '_'
    })
  },
  // ...
}
```

<Tip.Good>Use a custom prefix with fluid type</Tip.Good>
```html mark="tw-"
<div class="tw-~text-sm/xl">
```
