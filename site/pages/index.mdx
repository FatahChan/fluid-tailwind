---
layout: ./_Layout.astro
title: Fluid for Tailwind CSS - Build smoother responsive designs in less code.
description: A fluid clamp() plugin for Tailwind that works with every utility.
headline: Build smoother responsive designs in less code.
---
import Split from './_Split.svelte'
import * as Steps from '/components/Steps'
import * as Tip from '/components/Tip'
import Resizer from '/components/Resizer.svelte'
import Link from '/components/Link.astro'
export const components = { a: Link }
import { Image } from 'astro:assets'
import inspector from './_inspector.png'

## Features

* Supports **every utility** out of the box (including plugins)
* Full **Intellisense** support
* Ensures fluid type meets [accessibility requirements](#fluid-type-accessibility-errors)
* **Flexible** enough to handle advanced use cases

## Installation

<Steps.Root>
  <Steps.Item>
    <>
      ### Install the package

      Install `fluid-tailwind` via npm.
    </>
    <Fragment slot="code">
    ```sh
    npm install -D fluid-tailwind
    ```
    </Fragment>
  </Steps.Item>
  <Steps.Item>
    <>
      ### Add the plugin and [extractor](https://tailwindcss.com/docs/content-configuration#customizing-extraction-logic)

      The custom extractor lets you use the new `~` modifier in your Tailwind classes.
    </>
    <Fragment slot="code">
      ```js title="tailwind.config.js" ins={1,6,10} mark=/\: (\{)/ mark="files:" mark=/(\}),/
      import fluid, { extract } from 'fluid-tailwind'

      export default {
        content: {
          files: [/* ... */],
          extract
        },
        // ...
        plugins: [
          fluid
        ]
      }
      ```
    </Fragment>
  </Steps.Item>
</Steps.Root>

## Basic usage

<Resizer client:load height="h-32">
  <button class="bg-sky-500 hover:bg-sky-400 ~@lg/2xl:~px-4/8 ~@lg/2xl:~py-2/3.5 ~@lg/2xl:~text-sm/xl rounded-full font-semibold text-white">Fluid button</button>
</Resizer>
```html mark=/(\~.*?)\s+/
<button class="bg-sky-500 ~px-4/8 ~py-2/4 ~text-sm/xl ...">Fluid button</button>
```

Here's a quick overview:
* The `~` modifier makes a utility fluid
* Fluid utilities interpolate between their start and end value (separated by `/`)
when the viewport is between the start and end point
* The start and end points default to your smallest and largest screen, but [they can be customized](#custom-default-screens) or [overridden per-utility](#customize-screens-per-utility)

## Limitations

Due to CSS restrictions, fluid expressions can only be computed if the start/end values and points are lengths literals (i.e. `1rem`) with the same unit.

<Tip.Bad>Trying to interpolate between two different units</Tip.Bad>
```html
<h1 class="~p-[1rem]/[18px]">
```

<Tip.Bad>Trying to set `font-size` in `rem` when the screens are in `px`</Tip.Bad>
<Split rows="grid-rows-[auto]">
  ```html
  <h1 class="~text-lg/xl">
  ```
  ```js title="tailwind.config.js"
  export default {
    // ...
    theme: {
      screens: {
        'sm': '320px',
        '2xl': '1280px' 
      },
      fontSize: {
        'lg': '1.5rem',
        'xl': '2rem'
      }
    }
    // ...
  }
  ```
</Split>

<Tip.Bad>Using non-literal values like `calc()`</Tip.Bad>
```html
<h1 class="~text-base/[calc(1.5rem-2px)]">
```

<Tip.Bad>Trying to interpolate between non-lengths like colors</Tip.Bad>
```html
<h1 class="~text-white/red-500">
```

### Tailwind's default theme

Tailwind v3's [default screens](https://tailwindcss.com/docs/screens) are in `px`, while its default
[spacing](https://tailwindcss.com/docs/customizing-spacing#default-spacing-scale) and
[font sizes](https://tailwindcss.com/docs/font-size) are in `rem`.
This doesn't bode well with the CSS restrictions mentioned above, so `fluid-tailwind` provides `rem` equivalents
for the default screens:

```js title="tailwind.config.js" ins={6} ins=", screens"
import fluid, { extract, screens } from 'fluid-tailwind'

export default {
  // ...
  theme: {
    screens
  },
  // ...
}
```
<Tip.Info>[Tailwind v4 will use `rem` screens by default](https://github.com/tailwindlabs/tailwindcss/pull/13469).</Tip.Info>

Similarly, the line heights used for Tailwind's default font sizes `5xl`â€“`9xl` are unitless, which can't be fluidized.
`fluid-tailwind` provides `rem` equivalents for those as well:

```js title="tailwind.config.js" ins={7} ins=", fontSize"
import fluid, { extract, screens, fontSize } from 'fluid-tailwind'

export default {
  // ...
  theme: {
    screens,
    fontSize
  },
  // ...
}
```

### Troubleshooting

In case a fluid utility can't generate a `clamp()`, it will output an empty class with
a comment in the selector:

```css
.\~mt-\[10px\]\/\[1\.5rem\] /* error - Start `10px` and end `1.5rem` units don't match */ {}
```

You should be able to see this if you have the [official IntelliSense plugin](https://marketplace.visualstudio.com/items?itemName=bradlc.vscode-tailwindcss)
installed and hover over the class. Otherwise, you can see it if you click the location for the empty rule in your browser's inspector:

<figure>
  <div class="rounded-lg overflow-clip dark:after:rounded-[inherit] dark:after:absolute dark:after:inset-0 dark:after:size-full dark:after:ring dark:after:ring-inset dark:after:ring-white/10 w-fit relative">
    <Image src={inspector} quality={100} class="w-[340px] my-0 dark:ring-white/10" alt="Screenshot of a mouse clicking on the location for an empty fluid ruleset in the inspector" />
  </div>
  <figcaption>Chrome's Styles pane</figcaption>
</figure>

## Configuration

### Custom default screens

The default start and end screens can be set with a tuple `[start, end]`, where each
value is a simple screen width.
Either value can be omitted, in which case the plugin will use your smallest and largest
screen, respectively.

```js title="tailwind.config.js" ins={5-8}
// ...
export default {
  // ...
  theme: {
    /** @type {import('fluid-tailwind').FluidThemeConfig} */
    fluid: ({ theme }) => ({
      defaultScreens: ['20rem', theme('screens.lg')]
    })
  },
  // ...
}
```

## Advanced

### Customize screens per-utility

You can change the start/end screens for an individual fluid utility with
the included `~` variant. For example:

<Resizer client:load height="h-32">
  <span class="text-slate-900 dark:text-slate-100 font-semibold ~@xl/2xl:~text-base/4xl text-center block">Quick increase</span>
</Resizer>
```html mark="~md/lg:"
<h1 class="~md/lg:~text-base/4xl">Quick increase</h1>
```

You can omit either start or end screen to use your [global defaults](#custom-default-screens):

<Tip.Good>Set start screen to `md`, end screen as default</Tip.Good>
```html mark="~md:"
<div class="~md:~text-base/4xl">
```

<Tip.Good>Set end screen to `lg`, start screen as default</Tip.Good>
```html mark="~/lg:"
<div class="~/lg:~text-base/4xl">
```

#### Arbitrary start screens

If you want to set an arbitrary start screen with the `~` variant, you have to use
`~min-[]` (just as you'd have to use `min-[]` to set an [arbitrary screen breakpoint](https://tailwindcss.com/docs/responsive-design#arbitrary-values)):

<Tip.Bad>Trying to use `~[]:` to set an arbitrary start screen</Tip.Bad>
```html del="~[20rem]"
<div class="~[20rem]/lg:~text-base/4xl">
```

<Tip.Good>Using `~min-[]` to set an arbitrary start screen</Tip.Good>
```html mark="~min-[20rem]"
<div class="~min-[20rem]/lg:~text-base/4xl">
```

### Negative values

To negate fluid utilities, the dash comes after the fluid `~` modifier:

<Tip.Good>Negating a fluid utility</Tip.Good>
```html mark=/\~(\-)/
<div class="~-mt-3/5">
```

### Container queries

If you have the [official container query](https://github.com/tailwindlabs/tailwindcss-container-queries) plugin
installed, you can make the start/end points relative to the nearest `@container` rather than the viewport by using the `~@` variant:

```html mark="~@md/lg:"
<h1 class="~@md/lg:~text-base/4xl">Relative to container</h1>
```
<Tip.Info>This may look confusing if you use [named containers](https://github.com/tailwindlabs/tailwindcss-container-queries#named-containers). Sorry about that; there's only so many ways to get values into Tailwind. In general, when you see the fluid `~` modifier, you know the `/` denotes a start/end pair.</Tip.Info>

Just like the `~` variant, both start and end containers are optional and will use your [global defaults](#custom-default-containers) if unset.

<Tip.Good>Set end container to `lg`, start container as default</Tip.Good>
```html mark="~@/lg:"
<div class="~@/lg:~text-base/4xl">
```

#### Custom default containers

The default containers can be set in the same way as screens.
Either value can be omitted, in which case the plugin will use your smallest and
largest container, respectively.

```js title="tailwind.config.js" ins={7}
// ...
export default {
  // ...
  theme: {
    /** @type {import('fluid-tailwind').FluidThemeConfig} */
    fluid: ({ theme }) => ({
      defaultContainers: [, theme('containers.2xl')]
    })
  },
  // ...
}
```

### Fluid type accessibility errors

By default, the plugin will not generate fluid type that [would fail WCAG Success Criterion 1.4.4](https://www.smashingmagazine.com/2023/11/addressing-accessibility-concerns-fluid-type/).
You can configure this with the `checkSC144` option:

```js title="tailwind.config.js" ins={6}
// ...
export default {
  // ...
  plugins: [
    fluid({
      checkSC144: false // default: true
    })
  ]
}
```

### Combining with breakpoints

To really get crazy, you can combine fluid values with
container or media queries, as such:

<Resizer client:load height="h-32" tooNarrowClass="xl:hidden">
  <span class="text-slate-900 dark:text-slate-100 font-semibold italic ~@lg/2xl:~text-base/4xl @2xl:~@2xl/4xl:~text-4xl/base text-center block">Whoa!</span>
</Resizer>
```html mark="~/md:" mark="lg:~lg:"
<h1 class="~/md:~text-base/4xl lg:~lg:~text-4xl/base">Whoa!</h1>
```

Here's how this works:
1. By default, we interpolate our font-size between `base` and `4xl` until the viewport
is our `md` screen
1. When we get to our `lg` screen, we interpolate between the opposite `4xl` and `base`, starting
when the viewport is our `lg` screen

### Using with a custom prefix or separator

If you're using a custom [`prefix`](https://tailwindcss.com/docs/configuration#prefix) or
[`separator`](https://tailwindcss.com/docs/configuration#separator),
you'll need to pass them in to the extractor as well:

<Split rows="grid-rows-[auto]">
  ```js title="tailwind.config.js" ins={9-10}
  import fluid, { extract } from 'fluid-tailwind'

  export default {
    prefix: 'tw-',
    separator: '_',
    content: {
      files: [/* ... */],
      extract: extract({
        prefix: 'tw-',
        separator: '_'
      })
    },
    // ...
  }
  ```
  ```html title="index.html" mark="tw-"
  <div class="~tw-text-sm/xl">
  ```
</Split>